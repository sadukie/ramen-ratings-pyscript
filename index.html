<html>
<head>
    <title>Read CSV with Pandas using PyScript</title>
    <link rel="stylesheet" href="styles.css" />
    <script defer src="https://pyscript.net/alpha/pyscript.js"></script>
    <!---pyodide--> 
    <py-env>
        - pandas
        - matplotlib
        - seaborn
    </py-env>
</head>
<body>
    <h1>Read CSV with Pandas using PyScript</h1>
    <p>Playing with PyScript and <a href="https://www.kaggle.com/datasets/residentmario/ramen-ratings">the Ramen Ratings data from Kaggle</a></p>
    <h2>Brands Most Tested</h2> 
    <div id="most_tested"></div>
    <div id="most_tested_chart"></div>
    <py-script output="most_tested">
        import pandas as pd 
        from pyodide.http import open_url
        url_content = open_url("https://raw.githubusercontent.com/sadukie/ramen-ratings-pyscript/main/ramen-ratings.csv")
        df = pd.read_csv(url_content)
        most_tested = df.Brand.value_counts().nlargest(10).to_frame()
        most_tested.to_html()
    </py-script>
    <py-script output="most_tested_chart">
        import matplotlib.pyplot as plt
        import seaborn as sns
        plt.hist(most_tested.Brand,alpha=.3)
        sns.rugplot(most_tested.Brand)
    </py-script>
</body>
</html>